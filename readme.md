# TODO API

ToDo API — это RESTful API сервер для управления задачами (ToDo), реализованный на Go. Позволяет создавать, читать, обновлять и удалять задачи с поддержкой фильтрации и пагинации.

API сервер для управления списком задач с использованием PostgreSQL в качестве хранилища данных. Поддерживается:

- Создание новой задачи
- Получение задачи по ID
- Обновление задачи
- Удаление задачи
- Получение списка задач с фильтрацией по статусу и дате, а также пагинацией

## Установка и запуск
1. Клонируйте репозиторий
```bash
git clone https://github.com/theoreooo/todo
cd todo
```

2. Запустите c помощью Docker
```bash
docker-compose up --build
```
API будет доступно по адресу http://localhost:8082.

Остановка приложения:
```bash
docker-compose down -v
```

## Документация API
Документация Swagger автоматически генерируется и доступна по адресу:

http://localhost:8082/swagger/index.html

## Запуск юнит тестов
Есть юнит тесты для хендлеров в internal/http-server/handlers. Они используют моки и не нуждаются в БД
1. Запуск тестов в Docker
```bash
docker-compose -f docker-compose.test.yml up --build test
```
Очистка:
```bash
docker-compose down -v
```
## Основные эндпоинты

| Метод  | Путь          | Описание                                           |
| ------ | ------------- | -------------------------------------------------- |
| POST   | `/newtask`    | Создать новую задачу                               |
| GET    | `/tasks/{id}` | Получить задачу по ID                              |
| PUT    | `/tasks/{id}` | Обновить задачу по ID                              |
| DELETE | `/tasks/{id}` | Удалить задачу по ID                               |
| GET    | `/tasks`      | Получить список задач (с фильтрацией и пагинацией) |

## Конфигурация

Конфигурация приложения задаётся через YAML файл(config/local.yaml):
- env — окружение: local, dev, prod (определяет уровень логирования и формат вывода)
- postgres — настройки подключения к PostgreSQL
- http_server — параметры HTTP сервера (адрес, таймауты)

## Логирование
Логирование настраивается в зависимости от окружения:
- local — текстовый формат, уровень DEBUG
- dev — JSON формат, уровень DEBUG
- prod — JSON формат, уровень INFO
